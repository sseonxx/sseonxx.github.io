---
title: NestJs ì •ë¦¬
description: NestJsì— ëŒ€í•´ ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.
author: sseonxx
date: 2025-02-03 09:57:41 +0800
categories: [javascript, nestjs]
tags: [javascript, nestjs]
pin: true
math: true
mermaid: true
# image:
#   path: https://github.com/user-attachments/assets/f332a073-1a53-4907-b178-6f1f949823d9
#   lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
  # alt: Responsive rendering of Chirpy theme on multiple devices.
---

# Nest JS

## ê°œë…

Nest JS í´ë˜ìŠ¤ì˜ `Service`, `Repository`, `Factory`, `Helper` ë“±ì´ `Provider`ë¡œ ì·¨ê¸‰ë©ë‹ˆë‹¤. ì£¼ìš” ì•„ì´ë””ì–´ëŠ” **`ì¢…ì†ì„± ì£¼ì…`**ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. 
ê°ì²´ëŠ” ë‹¤ì–‘í•œ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—°ê²°í•˜ëŠ” ê¸°ëŠ¥ì€ ëŒ€ë¶€ë¶„ Nest Js ëŸ°íƒ€ì„ ì‹œìŠ¤í…œì— ìœ„ì„ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

- `@injectable` **ë°ì½”ë ˆì´í„°**ë¡œ ê°ì‹¸ì ¸ ëª¨ë“ˆì— ì œê³µí•˜ê³ , ì´ ì„œë¹„ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ëŠ” **ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´**ì— ì‚¬ìš© ë  ìˆ˜ ìˆë‹¤.

### íŒŒì¼êµ¬ì¡°

```mermaid
flowchart LR
  A[Nest ê¸°ë³¸ êµ¬ì¡°] --> B[eslintrc.js] --> B1[ê°œë°œìë“¤ì´ íŠ¹ì •í•œ ê·œì¹™ì„ ê°€ì§€ê³  ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ ì§¤ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬<br>íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì“°ëŠ” ê°€ì´ë“œ ë¼ì¸ ì œì‹œ, ë¬¸ë²•ì— ì˜¤ë¥˜ë‚˜ë©´ ì•Œë ¤ì£¼ëŠ” ì—­í• ]
  
  A --> C[prettierrc] --> C1[ì½”ë“œ í˜•ì‹ì„ ë§ì¶”ëŠ”ë° ì‚¬ìš©, ì‘ì€/í° ë”°ì˜´í‘œë¥¼ ì‚¬ìš©í• ì§€, indent 2or4, ì—ëŸ¬ê°€ ì•„ë‹Œ ì½”ë“œ í¬ë§·í„°]
  
  A --> |CLI:ëª…ë ¹ì–´ ì¸í„°í˜ì´ìŠ¤|D[nest-cli.json] -->D1[nest í”„ë¡œì íŠ¸ë¥¼ ìœ„í•´ íŠ¹ì •í•œ ì„¤ì •ì„ í•  ìˆ˜ ìˆëŠ” json íŒŒì¼]

  A --> E[tsconfig.json] --> E1[ì–´ë–»ê²Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì»´íŒŒì¼ í• ì§€ ì„¤ì •]	
  A --> F[tsconfig.build.json] --> F1[tsconfig.json ì˜ ì—°ì¥ì„ ìƒ íŒŒì¼ë¡œ, build í•  ë–„ í•„ìš”í•œ ì„¤ì •ë“¤ 'excludes'ì—ì„œ ë¹Œë“œí•  ë•Œ í•„ìš”ì—†ëŠ” íŒŒì¼ë“¤ ëª…ì‹œ]
  
  A --> G[package.json] --> G1[build : ìš´ì˜í™˜ì˜ì„ ìœ„í•œ ë¹Œë“œ, format : ë¦°íŠ¸ì—ëŸ¬ê°€ ë‚¬ì„ì§€ ìˆ˜ì •, start : ì•± ìˆ˜ì •]
  A --> H[src í´ë”] --> H1[main.ts : ì•±ì„ ìƒì„±í•˜ê³  ì‹¤í–‰]
  H-->H2[app.module.ts : ì•± ëª¨ë“ˆì„ ì •ì˜]
```

### ëª¨ë“ˆ Module

```mermaid
flowchart LR
  subgraph A["AppModule(root )'''"]
    subgraph B["Board Module''"]
      D1["BoardController"]; 
      D2["BoardEntity"];
      D3["BoardService"];
      D4["BoardRepository"];
      D5["ValidationPipe"];
    end
    subgraph C["Auth Module''"]
      E1["AuthController"]
      E2["AuthService"]
      E3["JWT, Passport"]
      E4["UserRepository"]
    end
  end
  
style A font-weight:bold
style B font-weight:bold
style C font-weight:bold
  
  
```

**ëª¨ë“ˆ**ì€ `@Module({ })` ë°ì½”ë ˆì´í„°ë¡œ ì£¼ì„ì´ ë‹¬ë¦° **í´ë˜ìŠ¤**ì…ë‹ˆë‹¤. 

`@Module({ })` ë°ì½”ë ˆì´í„°ëŠ” Nestê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°ë¥¼ êµ¬ì„±í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” **ë©”íƒ€ ë°ì´í„°**ë¥¼ ì œê³µí•œë‹¤.
ê° ì‘ìš© í”„ë¡œê·¸ë¨ì—ëŠ” í•˜ë‚˜ ì´ìƒì˜ ëª¨ë“ˆ(ë£¨íŠ¸ëª¨ë“ˆ)ì•„ ìˆìŠµë‹ˆë‹¤. **ë£¨íŠ¸ ëª¨ë“ˆ**ì€ Nestê°€ ì‹œì‘í•˜ëŠ” **ì‹œì‘ì **ì…ë‹ˆë‹¤. 

```mermaid
flowchart BT
A["Application Module"]
B["User Module"] --> A
C["Order Module"] --> A
  C1["Feature Module1"] --> C
  C2["Feature Module2"] --> C
D["Board Module"] --> A
  D1["Feature Module3"] --> D
  
style A fill:#000,stroke:#000,color:#fff,font-weight:bold
  

```

- ëª¨ë“ˆì€ ë°€ì ‘í•˜ê²Œ ê´€ë ¨ëœ ê¸°ëŠ¥ ì§‘í•©ìœ¼ë¡œ êµ¬ì„±ìš”ì†Œë¥¼ êµ¬ì„±í•˜ëŠ” íš¨ê³¼ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.
- ê°™ì€ ê¸°ëŠ¥ì— í•´ë‹¹í•˜ëŠ” ê²ƒë“¤ì€ í•˜ë‚˜ì˜ ëª¨ë“ˆ í´ë”ì•ˆì— ë„£ì–´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.
(UserController, UserService, UserEntity ëŠ” ë‹¤ ê°™ì€ ê¸°ëŠ¥ì´ê¸°ì— User Module ì•ˆì—ì„œ ê´€ë¦¬)
- NestJSì—ì„œëŠ” ëª¨ë“ˆì´ ê¸°ë³¸ì ìœ¼ë¡œ ì‹±ê¸€í†¤(Singleton) íŒ¨í„´ì„ ë”°ë¥´ë¯€ë¡œ, ì—¬ëŸ¬ ëª¨ë“ˆì—ì„œ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```mermaid
flowchart BT
A["Shared Module"]
B["Users Modules"]
C["Orders Modules"]
D["Board Modules"]
A-->B
A-->C
A-->D

style A fill:#000,stroke:#000,color:#fff,font-weight:bold

%% fill:#000: ë…¸ë“œ ë°°ê²½ì„ ê²€ì •ìƒ‰ìœ¼ë¡œ ì„¤ì •.
%% stroke:#000: í…Œë‘ë¦¬ë¥¼ ê²€ì •ìƒ‰ìœ¼ë¡œ ì„¤ì •.
%% color:#fff: í…ìŠ¤íŠ¸ ìƒ‰ìƒì„ í°ìƒ‰ìœ¼ë¡œ ì„¤ì •.
%% font-weight:bold: í…ìŠ¤íŠ¸ë¥¼ êµµê²Œ ì„¤ì •.
```

## ëª¨ë“ˆ ìƒì„±í•˜ê¸°

```mermaid
---
title: Module,Controller,Service ìƒì„±
---
flowchart LR
  A["Boardëª¨ë“ˆ ìƒì„±"]-->B2
  subgraph B2["<span style='background-color: black; color: white;'>$ nest g module boards</span>"]
    direction TB
    B1["*nest : using nest CLI
  *g : generate
  *module : schematic that I want to create
  *boards : name of the schematic"]
  end
  
  A1["ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±"]-->B3
    subgraph B3["<span style='background-color: black; color: white;'>$ nest g controller boards --no-spec</span>"]
    direction TB
    B4["*controller: controller schematic
  *boards : name of the schematic"
  *--no--spec : í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì†ŒìŠ¤ì½”ë“œ ìƒì„±X]
  end
  
  A3["Service ìƒì„±"]--> C1
    subgraph C1["<span style='background-color: black; color: white;'>$ nest g service boards --no-spec</span>"]
    end
  

style B1 text-align:left
style B4 text-align:left
```

### Controller

```tsx
@Controller("/boards")
export class BaordController {

}
```

controllerëŠ” ë°ì½”ë ˆì´í„°ë¡œ í´ë˜ìŠ¤ë¥¼ ë°ì½”ë ˆì´ì…˜í•˜ì—¬ ì •ì˜ë©ë‹ˆë‹¤
ë°ì½”ë ˆì´ì…˜ ì¸ìëŠ” Conrollerì— ì˜í•´ì„œ ì²˜ë¦¬ë˜ëŠ” â€œê²½ë¡œâ€ë¡œ ë°›ìŠµë‹ˆë‹¤.

### handlerë€

- @Get
- @Post
- @Delete
- @Patch

```mermaid
flowchart TB
    A["Client"]
    A -->|Sends Request| B["Request"]
    B --> C["Controller"]
    C -->|Returns Data| Z["Response"]
    C --> D["Service"]
    D -.->|Cache Check| C
    Z -->|Response Sent| A
```

### Controllerì— Service ì‚¬ìš©

- Dependency Injection
    
    ```tsx
    **constructor**(private readonly boardsService:**BoardsService**){}
    
    // >> ì›ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì´ë ‡ê²Œ í‘œí˜„í•˜ëŠ” ê²ƒì„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì¸ ìœ„ë¡œ ì‘ì„±
    @Controller('boards')
    export class BoardsController {
      **boardService**: BoardService;
      
      constructor(**boardService**: BoardService) {
        this.**boardService** = **boardService**
     }
    ```
    
- **ì ‘ê·¼ì œí•œì**(public, protected,private)ë¥¼ **ìƒì„±ì**(**constructor**) **íŒŒë¼ë¯¸í„°**ì— ì„ ì–¸í•˜ë©´ ì ‘ê·¼ì œí•œìê°€ ì‚¬ìš©ëœ ìƒì„±ì íŒŒë¼ë¯¸í„°ëŠ” ì•”ë¬µì ìœ¼ë¡œ **í´ë˜ìŠ¤ í”„ë¡œí¼í‹°**ë¡œ ì„ ì–¸ë©ë‹ˆë‹¤.

## Pipe

```mermaid
flowchart LR
A["Client"] --> |Request|B@{ shape: das, label: "Pipe<br/>- Data Transformation<br/>- Data Validation" }
B-->|Success|C["Method"]
B-->|Fail|D["Error"]
C-->|Response|A

style B fill:#7ec9e8 ,stroke:#000,font-weight:bold
style C fill:#7ec9e8 ,stroke:#000,font-weight:bold
  
```

- **Data Transformation** :
ì…ë ¥ ë°ì´í„°ë¥¼ ì›í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜(ì˜ˆ: ë¬¸ìì—´ì—ì„œ ì •ìˆ˜ë¡œ)
ë§Œì•½ ìˆ«ìë¥¼ ë°›ê¸¸ ì›í•˜ëŠ”ë° ë¬¸ìì—´ í˜•ì‹ìœ¼ë¡œ ë°›ì•˜ë‹¤ë©´ íŒŒì´í”„ì—ì„œ ìë™ìœ¼ë¡œ ìˆ«ìë¡œ ë³€í™˜
String to Integer : String â€˜7â€™ â‡’ Integer 7
- **Data Validation** : 
ì…ë ¥ ë°ì´í„°ë¥¼ í‰ê°€í•˜ê³  ìœ íš¨í•œ ê²½ìš° ë³€ê²½ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ ì „ë‹¬í•˜ë©°, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì„ ë•Œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚´
ë°ì´í„°ì˜ ê¸¸ì´ê°€ 10 ì´í•˜ì—¬ì•¼ í•˜ëŠ”ë° ê·¸ ì´ìƒì¸ ê²½ìš° ì—ëŸ¬ ë°œìƒ
- íŒŒì´í”„ëŠ” ë©”ì†Œë“œ ë°”ë¡œ ì§ì „ì— ì‘ë™í•´ì„œ ë©”ì†Œë“œë¡œ í–¥í•˜ëŠ” ì¸ìˆ˜ì— ëŒ€í•´ ë³€í™˜í•  ê²ƒì´ ìˆëŠ”ì§€ í™•ì¸í•˜ì—¬ ë³€í™˜ ë° ìœ íš¨ì„± ì²´í¬ë¥¼ ìœ„í•´ í˜¸ì¶œ

### Pipe : Binding Pipes _ Pipe ì‚¬ìš©í•˜ëŠ” ë²•

```bash
npm install class-validator class-transformer
```

1. **Handler-level Pipes**
@UsePipes() ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ëª¨ë“  íŒŒë¼ë¯¸í„°ì— ì ìš©
    
    ```tsx
    /*controller.ts*/
    @Patch('/:id')
    **@UsePipes(ValidationPipe)**
    async updateBoard(
      @Param('id') id: string,
      @Body() updateBoardDto: UpdateBoardDto,
    ): Promise<Board> {
      return this.boardsService.updateBoard(id, updateBoardDto);
    }
    ```
    
2. **Parameter-level Pipes**
íŠ¹ì • íŒŒë¼ë¯¸í„°ì—ê²Œ ì ìš©ì´ ë˜ëŠ” íŒŒì´í”„
    
    ```tsx
    /*ê°€ì¥ ìƒë‹¨ì˜ main.ts*/
    @Patch('/:id')
    async updateBoard(
      @Param('id') id: string,
      @Body(**ParameterPipe**) updateBoardDto: UpdateBoardDto,
    ): Promise<Board> {
      return this.boardsService.updateBoard(id, updateBoardDto);
    }
    ```
    
3. **Global-level Pipes**
ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì˜ íŒŒì´í”„ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì— ì ìš©
    
    ```tsx
    async function bootstrap() {
      const app = await NestFactory.create(AppModule);
      **app.useGlobalPipes(GloballPipes);**
      await app.listen(3000);
    }
    bootstrap()
    ```
    

### Built-in Pipes

NestJSì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ ë†“ì€ 6ê°€ì§€ì˜ íŒŒì´í”„

1. ValidationPipe
2. ParseIntPipe 
    
    ```tsx
    @Get(':id')
    findOne(@Param('id', ParseIntPipe) id:number) { ...
    ```
    
3. ParseBoolPipe
4. ParseArrayPipe
5. ParseUUIDPipe
6. DefaultValuePipe

### cutom Pipes

Pipe Transformì´ë€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒˆë¡­ê²Œ ë§Œë“¤ ì»¤ìŠ¤í…€ íŒŒì´í”„ë¥¼ êµ¬í˜„í•´ì¤˜ì•¼ í•œë‹¤. 

ì´ Pipe Transform ì¸í„°í˜ì´ìŠ¤ëŠ” ëª¨ë“  íŒŒì´í”„ì—ì„œ êµ¬í˜„í•´ì£¼í•´ì¤˜ì•¼ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ì´ê²ƒê³¼ í•¨ê»˜ ëª¨ë“  íŒŒì´í”„ëŠ” transform() ë©”ì†Œë“œê°€ í•„ìš”í•˜ë©° ì´ ë©”ì†Œë“œëŠ” NestJSê°€ ì¸ì(arguments)ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ëœë‹¤

```jsx
export class BoardStatusValidationPipe implements PipeTransform {
  transform(value: any, metadata: ArgumentMetadata){
    console.log('value',value);
    console.log('metadata',metadata)
    return value;
    }
}
```

- transform()
    - 1ë²ˆì§¸ íŒŒë¼ë¯¸í„° : ì²˜ë¦¬ê°€ ëœ ì¸ìì˜ ê°’(value)
    - 2ë²ˆì§¸ íŒŒë¼ë¯¸í„° :  ì¸ìì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ë¥¼ í¬í•¨í•œ ê°ì²´
- transform() ì—ì„œ return ëœ ê°’ì€ Route í•¸ë“¤ëŸ¬ë¡œ ì „í•´ì§‘ë‹ˆë‹¤ ë§Œì•½ ì˜ˆì™¸(Exception)ì´ ë°œìƒí•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì— ë°”ë¡œ ì „í•´ì§‘ë‹ˆë‹¤.

## TypeORM

### **typeORM(Object Relational Mapping)ì´ë€?**

- node.js ì—ì„œ ì‹¤í–‰ë˜ê³  TypeScriptë¡œ ì‘ì„±ëœ ê°ì²´ ê´€ê³„í˜• ë§¤í¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
- typeORMì€ MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana ë° WebSQLê³¼ ê°™ì€ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§€ì›í•œë‹¤

### **ORM(Object Relational Mapping) ì´ë€?**

- **ê°ì²´**ì™€ **ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°**ë¥¼ **ìë™ìœ¼ë¡œ ë³€í˜• ë° ì—°ê²°**í•˜ëŠ” ì‘ì—…
- ORMì„ ì´ìš©í•œ ê°œë°œì€ ê°ì²´ì™€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë³€í˜•ì— ìœ ì—°í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

```mermaid
flowchart LR
  A[(Database)]
  B(Object<br/>ê°ì²´)
  B<-->|ë§¤í•‘|A
```

```tsx
const boards = Board.find({title:'Hello',status:'PUBLIC'})
```

### TypeORM dì˜ íŠ¹ì§•ê³¼ ì´ì 

- ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì²´ê³„ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±
- ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°œì²´ë¥¼ ì‰½ê²Œ ì‚½ì…, ì—…ë°ì´íŠ¸ ë° ì‚­ì œë¥¼ í•  ìˆ˜ ìˆë‹¤.
- í…Œì´ë¸” ê°„ì˜ ë§¤í•‘(1:1, 1:N or N:N) ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
- ê°„ë‹¨í•œ CLI ëª…ë ¹ì„ ì œê³µ

- TypeORMì€ ê°„ë‹¨í•œ ì½”ë”©ìœ¼ë¡œ ORM í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ê¸° ì‰½ë‹¤.
- TypeORMì€ ë‹¤ë¥¸ ëª¨ë“ˆê³¼ ì‰½ê²Œ í†µí•©ëœë‹¤.

### TypeORM ì´ìš©í•˜ê¸° ìœ„í•´ ì„¤ì¹˜ê°€ í•„ìš”í•œ ëª¨ë“ˆ

```bash
# @nestjs/typeorm >> NestJSì—ì„œ TypeORMì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì—°ë™ì‹œì¼œì£¼ëŠ” ëª¨ë“ˆ
# typeorm >> TypeORM ëª¨ë“ˆ
# pg >> Postgres ëª¨ë“ˆ

npm install pg typeorm @nestjs/typeorm --save
```

### entity ë“±ë¡

```tsx
import { Column, Entity, PrimaryGeneratedColumn } from 'typeorm';

@Entity()
export class Board {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  title: string;

  @Column()
  description: string;

  @Column()
  status: BoardStatus;
}

export enum BoardStatus {
  PUBLIC = 'PUBLIC',
  PRIVATE = 'PRIVATE',
}

```

 

# Repository

https://typeorm.io/find-options#basic-options

# ì¸ì¦ê¸°ëŠ¥

```mermaid
flowchart LR
  subgraph A["AppModule(root )'''"]
    subgraph B["Board Module''"]
      D1["BoardController"]; 
      D2["BoardEntity"];
      D3["BoardService"];
      D4["BoardRepository"];
      D5["ValidationPipe"];
    end
    subgraph C["Auth Module''"]
      E1["AuthController"]
      E2["AuthService"]
      E3["JWT, Passport"]
      E4["UserRepository"]
    end
  end
  
style A font-weight:bold
style B font-weight:bold
style C font-weight:bold, fill:#FFBF00
style E2 fill:#2d2d2d, stroke:#2d2d2d, font-weight:bold, color:#fff
```

### bcrypt

### JWT(Json Web Token)

ë‹¹ì‚¬ì ê°„ ì •ë³´ë¥¼ JSON ê°ì²´ë¡œ ì•ˆì „í•˜ê²Œ ì „ì†¡í•˜ê¸° ìœ„í•œ ì»´íŒ©íŠ¸í•˜ê³  ë…ë¦½ì ì¸ ë°©ì‹ì„ ì •ì˜í•˜ëŠ” ê°œë°©í˜• í‘œì¤€(RFC 7519)ì…ë‹ˆë‹¤. ì´ ì •ë³´ëŠ” ë””ì§€í„¸ ì„œëª…ì´ ë˜ì–´ ìˆìœ¼ë¯€ë¡œ í™•ì¸í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

- ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì „í•  ë•Œ í˜¹ì€ ìœ ì €ì˜ ê¶Œí•œ ê°™ì€ ê²ƒì„ ì²´í¬ë¥¼ í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•˜ëŠ”ë° ìœ ìš©í•œ ëª¨ë“ˆ

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
  .eyJlbWFpbCI6InRlc3Q2QG5hdmVyLmNvbSIsImlhdCI6MTczNDU5MjQ5NiwiZXhwIjoxNzM0NTk2MDk2fQ
  .8afZXKH5FLVRCcim-MJyWNO8gzEkPtnI88TSNYgs9aM"
}
```

- **Header**
í† í°ì— ëŒ€í•œ ë©”íƒ€ ë°ì´í„° í¬í•¨(íƒ€ì…, í•´ì‹± ì•Œê³ ë¦¬ì¦˜, SHA 256, RSA)
- **Payload**
ìœ ì €ì •ë³´(isuser), ë§Œë£Œê¸°ê°„(expiration time), ì£¼ì œ(subject) ë“±ë“±
- **Verify Signatue**
JWTì˜ ë§ˆì§€ë§‰ ì„¸ê·¸ë¨¼íŠ¸ëŠ” í† í°ì´ ë³´ë‚¸ ì‚¬ëŒì— ì˜í•´ ì„œëª…ë˜ì—ˆìœ¼ë©° ì–´ë–¤ì‹ìœ¼ë¡œë“  ìœ„ì¡°ë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ì„œëª…. ì„œëª…ì€ í—¤ë” ë° í˜ì´ë¡œë“œ ì„¸ê·¸ë¨¼ì¸ , ì„œëª… ì•Œê³ ë¦¬ì¦˜, ë¹„ë°€ ë˜ëŠ” ê³µê°œí‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±


í•„ìš”í•œ ëª¨ë“ˆ

```bash
# @nestjs/jwt =>nestjsì—ì„œ jwtë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ëª¨ë“ˆ
# @nestjs/passport => nestjsì—ì„œ passportë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ëª¨ë“ˆ
# passport => passwport ëª¨ë“ˆ
# passport-jwt => jwtëª¨ë“ˆ

# @types/passport-jwt

npm install @nestjs/jwt @nestjs/passport passport passport-jwt
```

```mermaid
---
title: How to remember and prove who I am
---
flowchart TB

A["Client(Browser)"] -->|5|A1["Client saves that token in Cookie"]

subgraph B[Server]
B1(("server generates token that includes user information"))
B2(("server decode token so server know user information"))
end
A-->|1|C1@{ shape: manual-input, label: "I am user123"}-->|2|B1
B-->|3|C2@{ shape: manual-input, label: "send token back to Client"}-->|4|A
A1-->|6|C3@{shape: manual-input, label: "New request with Token together"}-->|7|B2

subgraph D["HTTP Response Header"]
 D1["Token"]
end
C2--oD1

```

## Guard

```bash
$ curl -X 'POST' \
  'http://localhost:4000/auth/test' \
   -H "Accept: application/json" \
   -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3Q1QG5hdmVyLmNvbSIsImlhdCI6MTczNDYwNDY5NCwiZXhwIjoxNzM0NjA4Mjk0fQ.2hHK1ZbOYaYwg6zRPwEiROSBJDkhebaasVeAVS9bXyI" \
```


### ì—­í• 

- ìš”ì²­ì´ íŠ¹ì • í•¸ë“¤ëŸ¬(Controller. Route)ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤
- ì£¼ë¡œ ì¸ì¦(Authentication) ë° ê¶Œí•œ(Authorization) ì œì–´ë¥¼ ìœ„í•´ ì‚¬ìš©ëœë‹¤.

â†’ íŠ¹ì • ìš”ì²­ì´ ì»¨íŠ¸ë¡¤ëŸ¬ë‚˜ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ íŒë‹¨í•©ë‹ˆë‹¤.

### ë™ì‘ ì‹œì 

- ì»¨íŠ¸ë¡¤ëŸ¬ ë˜ëŠ” ë¼ìš°íŠ¸ê°€ í˜¸ì¶œë˜ê¸° ì§ì „ì— ì‹¤í–‰
- ìš”ì²­ì´ ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µê³¼í•œ ì´í›„ ì‹¤í–‰

### ì‚¬ìš© ì‚¬ë¡€

- **â­JWTì¸ì¦** (e.g.,  í† í° ê²€ì¦ ë° ìœ íš¨ì„± ê²€ì‚¬)
- **ê¶Œí•œ ê²€ì‚¬** (e.g., ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥)

## Middleware ë¯¸ë“¤ì›¨ì–´

- **HTTP ìš”ì²­(request)**ì„ ê°€ë¡œì±„ì„œ ì²˜ë¦¬í•˜ê±°ë‚˜ ë³€í˜•í•˜ê³ , ë‹¤ìŒ ë‹¨ê³„( `Controller`, `Guard`, `Interceptor` ë“±)ë¡œ ì „ë‹¬í•œë‹¤.
- ì£¼ë¡œ ì „ì²˜ë¦¬, í›„ì²˜ë¦¬ë¥¼ ìœ„í•´ ì‚¬ìš©ëœë‹¤

â†’ ëª¨ë“  ìš”ì²­ íë¦„ì— ëŒ€í•´ ê³µí†µ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

### Middleware ë¯¸ë“¤ì›¨ì–´_01.ë™ì‘ì‹œì 

- ë¼ìš°íŒ… ì „ì— ì‹¤í–‰
- ìš”ì²­ì´ ğŸ’**ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë„ë‹¬í•˜ê¸° ì „ì— ë™ì‘**í•˜ë¯€ë¡œ, Guardë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ëœë‹¤

### Middleware ë¯¸ë“¤ì›¨ì–´_02.ì‚¬ìš© ì‚¬ë¡€

- **ë¡œê·¸ ìš”ì²­ ë°ì´í„°**(e.g., console.logë¡œ ìš”ì²­ ì¶œë ¥)
- **ìš”ì²­ ë°ì´í„° ë³€í™˜**(e.g., ì¿ í‚¤ì—ì„œ í† í° ì¶”ì¶œ)
- **CORS ì„¤ì •**
- **ì •ì  íŒŒì¼ ì„œë¹™**

## Filter

- NestJSì—ì„œ **í•„í„°(Filter)**ëŠ” ìš”ì²­ ì²˜ë¦¬ ì¤‘ ë°œìƒí•œ **ì˜ˆì™¸(Exception)**ë¥¼ ì¡ì•„ì„œ ì‘ë‹µ í˜•ì‹ì„ í†µì¼í•˜ê±°ë‚˜, ë¡œê¹… ë“± ì¶”ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ë° ì‚¬ìš©
- ì£¼ë¡œ **ì—ëŸ¬ ì²˜ë¦¬**ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ë‹´ë‹¹

### Filter_01.ê¸°ë³¸ê°œë…

- **ì˜ˆì™¸(Exceiption)ë¥¼ ê°€ë¡œì±„ì–´ ì²˜ë¦¬**
- ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œ, ì‚¬ìš©ìì—ê²Œ í†µì¼ëœ ì‘ë‹µ í˜•ì‹ì„ ë°˜í™˜í•˜ê±°ë‚˜, ì˜ˆì™¸ë¥¼ ë¡œê¹…í•˜ëŠ”ë° ì‚¬ìš©
- NestJSëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” **Global Exception Handler**ë¥¼ ì œê³µí•˜ì§€ë§Œ, **í•„í„°ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•**í•˜ì—¬ ë”ìš± ì„¸ë°€í•œ ì œì–´ê°€ ê°€ëŠ¥í•˜ë‹¤.

### Filter_02.í•„í„° êµ¬í˜„

- ê¸°ë³¸ í•„í„° ìƒì„±

```tsx

```

# **Serialization(**ì§ë ¬í™”)

Serialization(ì§ë ¬í™”)ì€ ë„¤íŠ¸ì›Œí¬ ì‘ë‹µì—ì„œ ê°ì²´ê°€ ë°˜í™˜ë˜ê¸° ì „ì— ë°œìƒí•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì´ë‹¤.

ì´ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜ë  ë°ì´í„°ë¥¼ ë³€í™˜í•˜ê³  ì •ë¦¬í•˜ê¸° ìœ„í•œ ê·œì¹™ì„ ì œê³µí•˜ê¸°ì— ì í•©í•œ ê³³

ì˜ˆë¥¼ë“¤ì–´, ë¹„ë°€ë²ˆí˜¸ì™€ ê°™ì€ ë¯¼ê°í•œ ë°ì´í„°ëŠ” í•­ìƒ ì‘ë‹µì—ì„œ ì œì™¸í•´ì•¼ í•œë‹¤. 

```tsx
import { Exclude } from 'class-transformer';

export class UserEntity {
  id: number;
  firstName: string;
  lastName: string;

  @Exclude()
  password: string;

  constructor(partial: Partial<UserEntity>) {
    Object.assign(this, partial);
  }
}

/*ì»¨íŠ¸ë¡¤ëŸ¬*/
@UseInterceptors(ClassSerializerInterceptor)
@Get()
findOne(): UserEntity {
  return new UserEntity({
    id: 1,
    firstName: 'John',
    lastName: 'Doe',
    password: 'password',
  });
}
```

 í´ë¼ì´ì–¸íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‘ë‹µì„ ë°›ëŠ”ë‹¤ >>

```tsx
{
  "id": 1,
  "firstName": "John",
  "lastName": "Doe"
}
```

### ì»¤ìŠ¤í…€ ë°ì½”ë ˆì´ì…˜

start

```tsx
  @Post('test')
  @UseGuards(AuthGuard())
  @UseInterceptors(ClassSerializerInterceptor)
  @ApiBearerAuth() // Swagger UIì—ì„œ Bearer í† í° ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
  test(**@Req()** req) {
    console.log('req >>', req);
    return { message: 'Token is valid', user: req.user };
  }
```

â†’ ì—¬ê¸° `req.user` ê°€ ì•„ë‹Œ `user` ë¼ëŠ” íŒŒë¼ë¯¸í„°ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì€?

```tsx
export const GetUser = createParamDecorator((data,ctx:ExcutionContext):User => {
  const req = ctx.switchToHttp().getRequest(); // ìš”ì²­ì˜ ëª¨ë“  ì •ë³´
  return req.user;
});
```

ê²°ê³¼ >>

```tsx
  @Post('test2')
  @UseGuards(AuthGuard())
  @UseInterceptors(ClassSerializerInterceptor)
  @ApiBearerAuth() // Swagger UIì—ì„œ Bearer í† í° ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
  test2(**@GetUser()** user) {
    return { message: 'Token is valid', user: user };
  }
```

### Nest JS ë¯¸ë“¤ì›¨ì–´

```mermaid
flowchart LR

A["Pipes"] --> A1["íŒŒì´í”„ëŠ” ìš”ì²­ ìœ íš¨ì„± ê²€ì‚¬ ë° í˜ì´ë¡œë“œ ë³€í™˜ì„ ìœ„í•´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. <br/>ë°ì´í„°ë¥¼ ì˜ˆìƒí•œ ëŒ€ë¡œ ì§ë ¬í™” í•©ë‹ˆë‹¤"]
B["Filters"] -->B1["í•„í„°ëŠ” ì˜¤ë¥˜ì²˜ë¦¬ ë¯¸ë“¤ì›¨ì–´ë¡œ, íŠ¹ì • ì˜¤ë¥² ì²˜ë¦¬ê¸°ë¥¼ ì‚¬ìš©í•  ê²½ë¡œì™€ ê° ê²½ë¡œ ì£¼ë³€ì˜ ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤."]
C["Guards"] --> C1["ê°€ë“œëŠ” ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ì…ë‹ˆë‹¤. ì§€ì •ëœ ê²½ë¡œë¡œ í†µê´€í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ìì™€ í—ˆìš©ë˜ì§€ ì•Šì€ ì‚¬ëŒì„ ì„œë²„ì— ì•Œë ¤ì¤ë‹ˆë‹¤."]
D["Intercepters"] --> D1["ì¸í„°ì…‰í„°ëŠ” ì‘ë‹µ ë§¤í•‘ ë° ìºì‹œ ê´€ë¦¬ì™€ í•¨ê»˜ ìš”ì²­ë¡œê¹…ê³¼ ê°™ì€ ì „í›„ ë¯¸ë“¤ì›¨ì–´ì…ë‹ˆë‹¤. ê° ìš”ì²­ ì „í›„ì— ì´ë¥¼ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì€ ë§¤ìš° ê°•ë ¥í•˜ê³  ìœ ìš©í•©ë‹ˆë‹¤."]
```

### ì—”í‹°í‹°ì™€ ì—”í‹°í‹° ê´€ê³„ í˜•ì„±

```mermaid
erDiagram
  USER ||--o{BOARD : create
```

```tsx
export class User extends BaseEntity {
  @PrimaryGeneratedColumn()
  id: number;
  
  @Column()
  username: string;
  
  @Column()
  password: string;
  
  @OneToMany(type => Board, board=> board.user, {eager:true})
  boards: Board[]; // í•œì‚¬ëŒì´ nê°œì˜ ê²Œì‹œê¸€ì„ ì“¸ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ
  ...
  
}

-----------------------------------------------------------------------------
export class Baord extends BaseEntity {
  @PrimaryGeneratedColumn()
  id: number;
  
  @Column()
  title : string;
  
  @ManyToOne(type => User, user=> user.boards, {eager:false})
  user: User;
  ...
}
```

íŒŒë¼ë¯¸í„°

1. Type
2. inverseSide : boardì—ì„œ Userë¡œ ì ‘ê·¼í•˜ë ¤ë©´ board.userë¡œ ì ‘ê·¼í•´ì•¼í•¨
3. Option : eager: true â‡’ userì •ë³´ë¥¼ ê°€ì ¸ì˜¬ë•Œ boardë„ ê°™ì´ ê°€ì ¸ì˜´  

# QueryBuilder

1. this.boardRepository.createQueryBuilder('board');

```tsx
this.boardRepository.createQueryBuilder('board');
```

- this.boardRepository ëŠ” TypeORMì˜ Repository ê°ì²´ì…ë‹ˆë‹¤. ì´ëŠ” Board ì—”í‹°í‹°ì™€ ì—°ê²°ë˜ì–´ ìˆìœ¼ë©°, ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ CRUDì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- createQueryBuilder(â€™boardâ€™)ëŠ” ì¿¼ë¦¬ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆëŠ” ì¿¼ë¦¬ ë¹Œë”ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    - â€˜boardâ€™ëŠ” ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•  í…Œì´ë¸” ë³„ì¹­(â€™aliasâ€™)ì…ë‹ˆë‹¤.
    - ì´í›„ ëª¨ë“  ì¡°ê±´ì—ì„œ ì´ ë³„ì¹­ì„ ì‚¬ìš©í•˜ì—¬ ì»¬ëŸ¼ì„ ì°¸ì¡°í•©ë‹ˆë‹¤.
    
    ```sql
    SELECT * FROM board AS board
    ```
    
1. query.where('board.userId = :userId', { userId: user.id })

```tsx
query.where('board.userId = :userId', { userId: **user.id** })
```

- `where` ëŠ” ì¿¼ë¦¬ ì¡°ê±´ì„ ì¶”ê°€í•˜ëŠ” ë©”ì„œë“œ
    - `â€˜board.userId = :userIdâ€™` ëŠ” SQL ì¡°ê±´ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
    - `:userId` ëŠ” TyperORMì—ì„œ ì‚¬ìš©ë˜ëŠ” **íŒŒë¼ë¯¸í„° í”Œë ˆì´ìŠ¤í™€ë”**ì…ë‹ˆë‹¤. ì‹¤ì œ ê°’ì€ ë‘ ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬ëœ ê°ì²´ {userId: user.id}ì—ì„œ ëŒ€ì²´ë©ë‹ˆë‹¤.
- { userId: user.id }
    - `user.id`ëŠ” í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì(`user`)ì˜ IDë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
    - ì´ ê°’ì„ `:userId`ë¡œ ëŒ€ì²´í•˜ì—¬ SQL ì¡°ê±´ì„ ìƒì„±í•©ë‹ˆë‹¤.
    
    ```sql
    SELECT * FROM board AS board WHERE board.userId = 1;
    ```
    
1. const boards = await query.getMany();

```tsx
const boards = await query.getMany();
```

- `getMany()`ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ì¡°ê±´ì— ë§ëŠ” ê²°ê³¼ë¥¼ ë°°ì—´ í˜•íƒœë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
    - ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³ , ì¡°íšŒëœ ëª¨ë“  `Board` ì—”í‹°í‹°ë¥¼ JavaScript ê°ì²´ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
    - ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´ `[]`ì´ ë°˜í™˜ë©ë‹ˆë‹¤.
- `await` í‚¤ì›Œë“œëŠ” ë¹„ë™ê¸° í•¨ìˆ˜(`async`) ë‚´ì—ì„œ ì‚¬ìš©ë˜ë©°, ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.
1. í™•ì¥ 

```tsx
/*ì •ë ¬*/
query.orderBy('board.createdAt', 'DESC');
/*í˜ì´ì§•*/
query.take(10).skip(20); // 21ë²ˆì§¸ë¶€í„° 10ê°œ ê°€ì ¸ì˜¤ê¸°
/*ë‹¤ì¤‘ ì¡°ê±´*/
query.andWhere('board.status = :status', { status: 'PUBLIC' });
```

# ì„¤ì •

```mermaid
flowchart LR
A["codebase"] --> A1["ì¼ë°˜ì ìœ¼ë¡œ ë…¸ì¶œë˜ì–´ë„ ìƒê´‘ì—†ëŠ” ì •ë³´"]
B["í™˜ê²½ë³€ìˆ˜"] --> B1["ë¹„ë°€ë²ˆí˜¸ë‚˜ API Key ë“±ì˜ ë…¸ì¶œë˜ì–´ì„œëŠ” ì•ˆë˜ëŠ” ì •ë³´"]
```

```bash
# ìœˆë„ìš°ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í™˜ê²½ë³€ìˆ˜ë¥¼ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì„¤ì¹˜ í•„ìš”
npm install -g win-node-env

# window,mac ëª¨ë‘ config ëª¨ë“ˆ ì„¤ì¹˜ í•„ìš” 
npm install config --save
```

### config ëª¨ë“ˆì„ ì´ìš©í•œ ì„¤ì • íŒŒì¼ ìƒì„±

1. `ë£¨íŠ¸ ë””ë ‰í† ë¦¬`ì— `config í´ë”`ë¥¼ ìƒì„± í›„ì— í´ë” ì•ˆì— JSONí˜¹ì€ YAML í˜•ì‹ì˜ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤
- config/default.yml
- 
1. `config í´ë”` ì•ˆì— `default.yml`, `developement.yml`, `production.yml`

```mermaid
flowchart LR
  subgraph A["config"]
    subgraph B["<h3>default.yml</h3><br/>ê¸°ë³¸ ì„¤ì •(ê°œë°œ/ìš´ì˜ í™˜ê²½ ì„¤ì •ì—ë„ ì ìš©)"]
    end
    subgraph C["<h3>developement.yml</h3><br/>default + ê°œë°œí™˜ê²½ì— í•„ìš”í•œ ì •ë³´"]
    end
    subgraph D["<h3>production.yml</h3><br/>default + ìš´ì˜í™˜ê²½ì—ì„œ í•„ìš”í•œ ì •ë³´"]
    end
  end
```

*banner Generator: [https://patorjk.com/software/taag/#p=testall&h=0&f=Graffiti&t=NestJS](https://patorjk.com/software/taag/#p=testall&h=0&f=Graffiti&t=NestJS)

# ë°°í¬

```mermaid
flowchart LR
  subgraph A["AWS"]
    subgraph B["S3"]
    B1["í”„ë¡ íŠ¸ì—”ë“œ"]
    end
    subgraph C["Elastic Beanstalk"]
    C1["ë°±ì—”ë“œ"]
    end
  end
```

[^footnote]: The footnote source
[^fn-nth-2]: The 2nd footnote source